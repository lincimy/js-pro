<!DOCTYPE html>
<html lang="zh">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>复选框（checkbox）全选/全不选/返选</title>
<style>
body,dl,dt,dd,p{margin:0;padding:0;}
body{font-family:Tahoma;font-size:12px;}
label,input,a{vertical-align:middle;}
label{padding:0 10px 0 5px;}
a{color:#09f;text-decoration:none;}
a:hover{color:red;}
dl{width:120px;margin:10px auto;padding:10px 5px;border:1px solid #666;border-radius:5px;background:#fafafa;}
dt{padding-bottom:10px;border-bottom:1px solid #666;}
dt label{font-weight:700;}
p{margin-top:10px;}
</style>

</head>
<body>
<dl>
    <dt><input id="checkAll" type="checkbox"><label>全选</label><a href="javascript:;">反选</a></dt>
    <dd>
        <p><input name="item" type="checkbox"><label>选项（一）</label></p>
        <p><input name="item" type="checkbox"><label>选项（二）</label></p>
        <p><input name="item" type="checkbox"><label>选项（三）</label></p>
        <p><input name="item" type="checkbox"><label>选项（四）</label></p>
        <p><input name="item" type="checkbox"><label>选项（五）</label></p>
        <p><input name="item" type="checkbox"><label>选项（六）</label></p>
        <p><input name="item" type="checkbox"><label>选项（七）</label></p>
        <p><input name="item" type="checkbox"><label>选项（八）</label></p>
        <p><input name="item" type="checkbox"><label>选项（九）</label></p>
        <p><input name="item" type="checkbox"><label>选项（十）</label></p>
    </dd>    
</dl>
<center>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>


</body>
<script>
    //更新全选框函数
    function updateCheckAll(array){
        for(var i=0;i<array.length;i++)
            if(!array[i].checked){
                return false;
            }
        return true;
    }

    window.onload = function(){
        var checkAll = document.getElementById("checkAll");
        var checkboxs = document.getElementsByName("item");
        var reverseBtn = document.getElementsByTagName("a")[0];

        checkAll.onclick = function(){
            for(var i in checkboxs)
                checkboxs[i].checked = checkAll.checked;
        };

        reverseBtn.onclick = function(){
            for(var i in checkboxs)
                checkboxs[i].checked = !checkboxs[i].checked;
            checkAll.checked = updateCheckAll(checkboxs);
        };

        for(var j=0;j<checkboxs.length;j++){
            checkboxs[j].onclick = function(){
                checkAll.checked = updateCheckAll(checkboxs);
            };
        }
    };
</script>
</html>